import{u as I,c as N,g as V,a as d,w as i,b as p,r as c,d as z,o as l,e as r,n as B,f as g,h as F,t as o,i as R,j as S,F as T,k as E}from"./index-Bs-bhPNR.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j=["onClick"],A={class:"text-center rank-col"},D={class:"rank-circle"},H={key:1,class:"text-h6 font-weight-light text-grey"},L={class:"d-flex align-center py-2"},M={class:"text-white text-caption font-weight-bold"},$={class:"font-weight-bold text-subtitle-1"},q={class:"text-caption text-grey"},G={class:"text-center points-col font-weight-bold text-h6"},J={class:"text-center perf-col text-body-1 text-grey-darken-1"},K={class:"text-center form-col"},O={__name:"StandingsView",setup(Q){const _=I(),f=z(),m=e=>{f.push({name:"player",params:{start_no:e}})},h=[{title:"Место",key:"details.место",align:"center",sortable:!1,width:"100px"},{title:"Игрок",key:"name",sortable:!1,align:"start"},{title:"Очки",key:"details.очки",align:"center",sortable:!1,width:"120px"},{title:"Перфоманс",key:"details.рейтинговый_перфоманс",align:"center",sortable:!1,width:"150px"},{title:"Форма",key:"form",align:"center",sortable:!1,width:"200px"}],b=N(()=>{const e={};return _.players.forEach(t=>{e[t.start_no]=[...t.games].filter(a=>a.opponent_name!=="bye"&&a.result.trim()!=="").sort((a,n)=>parseInt(n.round)-parseInt(a.round)).slice(0,5).map(a=>{const n=V(a.result);return{color:n===1?"success":n===.5?"grey":"error"}})}),e}),x=e=>e==1?"amber-darken-2":e==2?"blue-grey-lighten-2":e==3?"brown-lighten-1":"blue-grey-darken-2",k=e=>{const t=parseInt(e);return t===1?"rank-gold":t===2?"rank-silver":t===3?"rank-bronze":""},v=e=>{const t=parseInt(e);return t===1?"amber":t===2?"blue-grey-lighten-3":t===3?"brown-lighten-2":"grey"};return(e,t)=>{const a=c("v-icon"),n=c("v-avatar"),y=c("v-chip"),w=c("v-data-table");return l(),d(w,{headers:h,items:p(_).standings,"item-value":"name",class:"leaderboard-table","items-per-page":-1},{item:i(({item:s})=>[r("tr",{class:B(k(s.details?.место)),onClick:u=>m(s.start_no)},[r("td",A,[r("div",D,[s.details?.место<=3?(l(),d(a,{key:0,color:v(s.details?.место)},{default:i(()=>[...t[0]||(t[0]=[F("mdi-trophy",-1)])]),_:1},8,["color"])):(l(),g("span",H,o(s.details?.место),1))])]),r("td",null,[r("div",L,[R(n,{color:x(s.details?.место),size:"40",class:"mr-4"},{default:i(()=>[r("span",M,o(p(S)(s.name)),1)]),_:2},1032,["color"]),r("div",null,[r("div",$,o(s.name),1),r("div",q,"Рейтинг: "+o(s.rating),1)])])]),r("td",G,o(s.details?.очки),1),r("td",J,o(s.details?.рейтинговый_перфоманс),1),r("td",K,[(l(!0),g(T,null,E(b.value[s.start_no],(u,C)=>(l(),d(y,{key:C,color:u.color,size:"x-small",class:"mx-1",variant:"elevated"},null,8,["color"]))),128))])],10,j)]),bottom:i(()=>[...t[1]||(t[1]=[])]),_:1},8,["items"])}}},X=P(O,[["__scopeId","data-v-d8b46c30"]]);export{X as default};
