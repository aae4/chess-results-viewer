import{u as $,A as z,c as p,H as F,k as L,p as q,a as v,d,h as x,l as o,b as u,e as n,r as s,w as a,t as m,f as r,g as _,I as E,J as G,F as y,i as I,K as H}from"./index-B-CLagWn.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={key:0,class:"text-center pa-10"},O={key:2},j={class:"mb-6 d-flex align-center"},M={class:"flex-grow-1"},Q={class:"text-h4 font-weight-bold"},W={class:"text-subtitle-1 text-medium-emphasis"},X={__name:"TournamentDashboard",props:{tournamentId:{type:[String,Number],required:!0}},setup(k){const c=k,e=$(),g=z(),T=F(),b=p(()=>{const l=e.activeTournament?.tnr_id;return l?`https://chess-results.com/tnr${l}.aspx?lan=11`:"#"}),w=p(()=>["Standings","Rounds","Participants","Crosstable","Statistics"].includes(T.name)),D=p(()=>!w.value),h=p(()=>[{text:"Итоги",value:"Standings",icon:"mdi-podium",to:{name:"Standings",params:{tournamentId:c.tournamentId}}},{text:"Туры",value:"Rounds",icon:"mdi-tournament",to:{name:"Rounds",params:{tournamentId:c.tournamentId}}},{text:"Участники",value:"Participants",icon:"mdi-account-group-outline",to:{name:"Participants",params:{tournamentId:c.tournamentId}}},{text:"Таблица",value:"Crosstable",icon:"mdi-table-large",to:{name:"Crosstable",params:{tournamentId:c.tournamentId}}},{text:"Статистика",value:"Statistics",icon:"mdi-chart-bar",to:{name:"Statistics",params:{tournamentId:c.tournamentId}}}]);return L(()=>c.tournamentId,l=>{l&&e.fetchTournamentData(l)},{immediate:!0}),q(()=>{e.clearActiveData()}),(l,i)=>{const S=s("v-progress-circular"),C=s("v-alert"),f=s("v-btn"),P=s("v-tooltip"),R=s("v-tab"),N=s("v-tabs"),A=s("v-slide-x-transition"),B=s("router-view"),V=s("v-icon"),U=s("v-bottom-navigation");return o(e).isLoadingDetails&&!o(e).activeTournament?(r(),v("div",K,[u(S,{indeterminate:"",color:"primary",size:"64"}),i[0]||(i[0]=n("p",{class:"mt-4 text-h6"},"Загрузка данных турнира...",-1))])):o(e).error?(r(),d(C,{key:1,type:"error",prominent:""},{default:a(()=>[_(" Не удалось загрузить данные турнира: "+m(o(e).error),1)]),_:1})):o(e).activeTournament?(r(),v("div",O,[n("div",j,[n("div",M,[n("h1",Q,m(o(e).activeTournament.name),1),n("div",W,[n("span",null,m(o(e).activeTournament.city),1),i[1]||(i[1]=n("span",{class:"mx-2"},"·",-1)),n("span",null,m(o(e).activeTournament.start_date),1)])]),u(P,{location:"bottom"},{activator:a(({props:t})=>[n("div",E(G(t)),[u(f,{href:b.value,target:"_blank",variant:"text",color:"primary",class:"d-none d-sm-flex","prepend-icon":"mdi-open-in-new"},{default:a(()=>[...i[2]||(i[2]=[_(" Chess-Results ",-1)])]),_:1},8,["href"]),u(f,{href:b.value,target:"_blank",icon:"mdi-open-in-new",variant:"text",color:"primary",class:"d-sm-none"},null,8,["href"])],16)]),default:a(()=>[i[3]||(i[3]=n("span",null,"Посмотреть на chess-results.com",-1))]),_:1})]),o(g).mdAndUp.value&&!D.value?(r(),d(N,{key:0,"model-value":l.$route.name,color:"primary",class:"mb-6"},{default:a(()=>[(r(!0),v(y,null,I(h.value,t=>(r(),d(R,{key:t.value,to:t.to,value:t.value},{default:a(()=>[_(m(t.text),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):x("",!0),u(B,null,{default:a(({Component:t})=>[u(A,{mode:"out-in"},{default:a(()=>[(r(),d(H(t)))]),_:2},1024)]),_:1}),o(g).smAndDown.value?(r(),d(U,{key:1,"model-value":l.$route.name,color:"primary",grow:"",app:""},{default:a(()=>[(r(!0),v(y,null,I(h.value,t=>(r(),d(f,{key:t.value,to:t.to,value:t.value},{default:a(()=>[u(V,null,{default:a(()=>[_(m(t.icon),1)]),_:2},1024),n("span",null,m(t.text),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):x("",!0)])):x("",!0)}}},tt=J(X,[["__scopeId","data-v-f967b840"]]);export{tt as default};
