import{u as S,r as x,c as T,a as _,b as a,d as b,e as o,f as n,g as k,s as A,n as D,j as i,k as f,F,l as R,h as s,t as d}from"./index-CAgBBP7l.js";import{g as U}from"./formatters-D4D2rNmP.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={key:0,class:"text-center pa-10"},E={key:1,class:"text-center text-grey pa-10"},Q={class:"d-flex align-center pa-4"},$={class:"start-no-badge mr-4"},q={class:"text-white font-weight-bold"},G={class:"player-info-text"},H={class:"font-weight-bold text-subtitle-1"},J={class:"text-caption text-grey"},K={class:"mr-2"},M={__name:"ParticipantsView",setup(O){const m=S(),y=A(),h=D(),p=x(""),u=x("start_no"),w=l=>{y.push({name:"Player",params:{tournamentId:h.params.tournamentId,playerId:l}})},g=T(()=>m.participants?m.participants.filter(t=>t.name.toLowerCase().includes(p.value?.toLowerCase()||"")).sort((t,r)=>u.value==="name"?t.name.localeCompare(r.name):u.value==="rating"?(r.rating||0)-(t.rating||0):(t.starting_rank||0)-(r.starting_rank||0)):[]),V=l=>{const t=["blue-grey","brown","deep-orange","indigo","teal","deep-purple","pink"];if(!l)return t[0];const r=l.split("").reduce((c,v)=>c+v.charCodeAt(0),0)%t.length;return t[r]};return(l,t)=>{const r=n("v-text-field"),c=n("v-btn"),v=n("v-btn-toggle"),C=n("v-toolbar"),B=n("v-progress-circular"),I=n("v-avatar"),P=n("v-card"),L=n("v-col"),N=n("v-row");return i(),_("div",null,[a(C,{flat:"",color:"transparent",class:"mb-4 px-0"},{default:o(()=>[a(r,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),label:"Поиск по имени","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"",clearable:"",class:"mr-4"},null,8,["modelValue"]),a(v,{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),color:"primary",variant:"outlined",mandatory:""},{default:o(()=>[a(c,{value:"start_no"},{default:o(()=>[...t[2]||(t[2]=[f("Номер",-1)])]),_:1}),a(c,{value:"name"},{default:o(()=>[...t[3]||(t[3]=[f("Имя",-1)])]),_:1}),a(c,{value:"rating"},{default:o(()=>[...t[4]||(t[4]=[f("Рейтинг",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),k(m).isLoadingDetails?(i(),_("div",z,[a(B,{indeterminate:"",color:"primary"})])):g.value.length===0?(i(),_("div",E," Участники не найдены. ")):(i(),b(N,{key:2},{default:o(()=>[(i(!0),_(F,null,R(g.value,e=>(i(),b(L,{key:e.id,cols:"12",sm:"6",md:"4"},{default:o(()=>[a(P,{class:"player-card",onClick:W=>w(e.id)},{default:o(()=>[s("div",Q,[s("div",$,d(e.starting_rank),1),a(I,{color:V(e.name),size:"48",class:"mr-4"},{default:o(()=>[s("span",q,d(k(U)(e.name)),1)]),_:2},1032,["color"]),s("div",G,[s("div",H,d(e.name),1),s("div",J,[s("span",K,"Рейтинг: "+d(e.rating),1),s("span",null,d(e.federation),1)])])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))])}}},tt=j(M,[["__scopeId","data-v-81ca3a40"]]);export{tt as default};
