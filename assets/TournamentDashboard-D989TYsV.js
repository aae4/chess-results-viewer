import{u as V,A as F,c as _,H as L,k as U,p as $,a as c,d as m,h as v,l as n,b as p,e as r,r as o,w as s,t as u,f as e,g as f,F as b,i as h,I as q}from"./index-Frlf8bwr.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={key:0,class:"text-center pa-10"},G={key:2},H={key:0,class:"mb-6"},O={class:"text-h4 font-weight-bold"},j={class:"text-subtitle-1 text-medium-emphasis"},J={__name:"TournamentDashboard",props:{tournamentId:{type:[String,Number],required:!0}},setup(I){const i=I,a=V(),y=F(),k=L(),T=_(()=>["Standings","Rounds","Participants","Crosstable","Statistics"].includes(k.name)),g=_(()=>!T.value),x=_(()=>[{text:"Итоги",value:"Standings",icon:"mdi-podium",to:{name:"Standings",params:{tournamentId:i.tournamentId}}},{text:"Туры",value:"Rounds",icon:"mdi-tournament",to:{name:"Rounds",params:{tournamentId:i.tournamentId}}},{text:"Участники",value:"Participants",icon:"mdi-account-group-outline",to:{name:"Participants",params:{tournamentId:i.tournamentId}}},{text:"Таблица",value:"Crosstable",icon:"mdi-table-large",to:{name:"Crosstable",params:{tournamentId:i.tournamentId}}},{text:"Статистика",value:"Statistics",icon:"mdi-chart-bar",to:{name:"Statistics",params:{tournamentId:i.tournamentId}}}]);return U(()=>i.tournamentId,l=>{l&&a.fetchTournamentData(l)},{immediate:!0}),$(()=>{a.clearActiveData()}),(l,d)=>{const D=o("v-progress-circular"),S=o("v-alert"),w=o("v-tab"),C=o("v-tabs"),P=o("v-slide-x-transition"),N=o("router-view"),A=o("v-icon"),B=o("v-btn"),R=o("v-bottom-navigation");return n(a).isLoadingDetails&&!n(a).activeTournament?(e(),c("div",E,[p(D,{indeterminate:"",color:"primary",size:"64"}),d[0]||(d[0]=r("p",{class:"mt-4 text-h6"},"Загрузка данных турнира...",-1))])):n(a).error?(e(),m(S,{key:1,type:"error",prominent:""},{default:s(()=>[f(" Не удалось загрузить данные турнира: "+u(n(a).error),1)]),_:1})):n(a).activeTournament?(e(),c("div",G,[g.value?v("",!0):(e(),c("div",H,[r("h1",O,u(n(a).activeTournament.name),1),r("div",j,[r("span",null,u(n(a).activeTournament.city),1),d[1]||(d[1]=r("span",{class:"mx-2"},"·",-1)),r("span",null,u(n(a).activeTournament.start_date),1)])])),n(y).mdAndUp.value&&!g.value?(e(),m(C,{key:1,"model-value":l.$route.name,color:"primary",class:"mb-6"},{default:s(()=>[(e(!0),c(b,null,h(x.value,t=>(e(),m(w,{key:t.value,to:t.to,value:t.value},{default:s(()=>[f(u(t.text),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):v("",!0),p(N,null,{default:s(({Component:t})=>[p(P,{mode:"out-in"},{default:s(()=>[(e(),m(q(t)))]),_:2},1024)]),_:1}),n(y).smAndDown.value?(e(),m(R,{key:2,"model-value":l.$route.name,color:"primary",grow:"",app:""},{default:s(()=>[(e(!0),c(b,null,h(x.value,t=>(e(),m(B,{key:t.value,to:t.to,value:t.value},{default:s(()=>[p(A,null,{default:s(()=>[f(u(t.icon),1)]),_:2},1024),r("span",null,u(t.text),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):v("",!0)])):v("",!0)}}},Q=z(J,[["__scopeId","data-v-13e02ff1"]]);export{Q as default};
