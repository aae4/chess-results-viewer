import{u as q,o as A,c as x,a as v,b as e,d as c,e as l,w as t,r as o,f as a,g as r,t as i,h as B,F as k,i as D}from"./index-spYIlC0H.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"content-wrapper"},O={key:1,class:"text-center text-h6 font-weight-regular mt-4"},Q={class:"text-body-2 font-weight-bold"},U={class:"text-caption text-medium-emphasis"},W={class:"game-row"},X={class:"player-name text-right"},Z={class:"player-name text-left"},$={class:"mt-8"},tt={class:"d-flex align-center pa-6"},et={class:"d-flex align-center pa-6"},nt={class:"bg-grey-lighten-4 px-4 py-2 text-center w-100"},lt={class:"text-caption"},ot={__name:"HomeView",setup(st){const m=q();A(()=>m.fetchHomepageDashboardData());const u=x(()=>m.currentTournament),L=x(()=>(m.currentTournamentStandings||[]).slice(0,5)),h=x(()=>m.recentGames||[]),p=x(()=>m.nextRoundInfo),N=d=>d===1?"amber":d===2?"blue-grey-lighten-3":d===3?"brown-lighten-3":"grey-lighten-2",I=d=>{switch(d){case"1-0":return{text:"1-0",color:"success"};case"0-1":return{text:"0-1",color:"error"};case"1/2-1/2":return{text:"½-½",color:"warning"};default:return{text:d,color:"grey"}}};return(d,n)=>{const f=o("v-icon"),V=o("v-chip"),b=o("v-card-title"),T=o("v-card-subtitle"),y=o("v-card-item"),_=o("v-card"),F=o("v-sheet"),H=o("v-avatar"),P=o("v-list-item-title"),R=o("v-list-item-subtitle"),C=o("v-list-item"),G=o("v-list"),E=o("v-spacer"),w=o("v-divider"),S=o("v-card-text"),g=o("v-col"),z=o("v-row"),j=o("v-alert"),M=o("v-footer");return a(),v("div",null,[e(F,{class:"hero-section d-flex flex-column justify-center align-center text-center pa-4 mb-8",rounded:"lg","min-height":"400px"},{default:t(()=>[l("div",K,[n[3]||(n[3]=l("h1",{class:"text-h4 text-md-h3 font-weight-bold mb-4"},"Шахматный клуб на Проспекте Мира",-1)),n[4]||(n[4]=l("p",{class:"text-h6 text-md-h5 font-weight-regular text-medium-emphasis mb-8"}," Центр шахматной жизни Москвы ",-1)),u.value?(a(),c(_,{key:0,to:{name:"Standings",params:{tournamentId:u.value.id}},class:"d-inline-block text-left mx-auto sub-hero-card elevation-8"},{default:t(()=>[e(y,null,{prepend:t(()=>[e(V,{color:"red",label:"",class:"font-weight-bold mr-2"},{default:t(()=>[e(f,{start:"",icon:"mdi-broadcast"}),n[0]||(n[0]=r(" LIVE ",-1))]),_:1})]),default:t(()=>[e(b,{class:"font-weight-bold"},{default:t(()=>[r(i(u.value.name),1)]),_:1}),e(T,null,{default:t(()=>[...n[1]||(n[1]=[r("Нажмите, чтобы посмотреть таблицу",-1)])]),_:1})]),_:1})]),_:1},8,["to"])):(a(),v("div",O,[...n[2]||(n[2]=[r(" Сейчас нет активных турниров. ",-1),l("br",null,null,-1),r(" Загляните позже! ",-1)])]))])]),_:1}),u.value?(a(),c(z,{key:0},{default:t(()=>[e(g,{cols:"12",lg:"8"},{default:t(()=>[e(_,{variant:"flat",color:"grey-lighten-5",class:"fill-height"},{default:t(()=>[e(y,null,{default:t(()=>[e(b,null,{default:t(()=>[...n[5]||(n[5]=[r("Текущий турнир: Лидеры",-1)])]),_:1}),e(T,null,{default:t(()=>[r(i(u.value?.name),1)]),_:1})]),_:1}),e(G,{lines:"two","bg-color":"transparent",class:"py-0"},{default:t(()=>[(a(!0),v(k,null,D(L.value,s=>(a(),c(C,{key:s.player_id,to:{name:"GlobalPlayer",params:{playerId:s.player_id}},class:"list-item-spaced"},{prepend:t(()=>[e(H,{color:N(s.final_rank),class:"font-weight-bold mr-4",size:"32"},{default:t(()=>[r(i(s.final_rank),1)]),_:2},1032,["color"])]),default:t(()=>[e(P,{class:"font-weight-bold"},{default:t(()=>[r(i(s.name),1)]),_:2},1024),e(R,{class:"text-medium-emphasis"},{default:t(()=>[r(" Очки: "+i(s.score)+" | Рейтинг: "+i(s.rating_at_tournament),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1}),e(E),e(w),p.value?(a(),c(S,{key:0,class:"d-flex align-center"},{default:t(()=>[e(f,{icon:"mdi-calendar-clock",class:"mr-3",color:"grey-darken-1"}),l("div",null,[l("div",Q,"Следующий раунд: "+i(p.value.name),1),l("div",U,i(p.value.date)+" "+i(p.value.time),1)])]),_:1})):B("",!0)]),_:1})]),_:1}),e(g,{cols:"12",lg:"4"},{default:t(()=>[e(_,{class:"fill-height",variant:"flat",color:"grey-lighten-5"},{default:t(()=>[e(y,null,{default:t(()=>[e(b,null,{default:t(()=>[...n[6]||(n[6]=[r("Недавние партии",-1)])]),_:1})]),_:1}),h.value.length?(a(),c(G,{key:0,"bg-color":"transparent",class:"py-0"},{default:t(()=>[(a(!0),v(k,null,D(h.value,(s,Y)=>(a(),v(k,{key:s.id},[e(C,{to:{name:"Game",params:{tournamentId:u.value.id,gameId:s.id}},class:"game-list-item"},{default:t(()=>[l("div",W,[l("span",X,i(s.white_player.name),1),e(V,{size:"x-small",color:I(s.result).color,text:I(s.result).text,label:"",variant:"tonal",class:"result-chip"},null,8,["color","text"]),l("span",Z,i(s.black_player.name),1)])]),_:2},1032,["to"]),Y<h.value.length-1?(a(),c(w,{key:0})):B("",!0)],64))),128))]),_:1})):(a(),c(S,{key:1,class:"text-center py-8 text-medium-emphasis"},{default:t(()=>[...n[7]||(n[7]=[r(" Здесь появятся результаты сыгранных партий. ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1})):(a(),c(j,{key:1,type:"info",variant:"tonal",icon:"mdi-information-outline",title:"Нет активных соревнований",class:"mb-6"},{default:t(()=>[...n[8]||(n[8]=[r(" Как только начнется новый турнир, здесь появится вся актуальная информация. ",-1)])]),_:1})),l("div",$,[e(z,null,{default:t(()=>[e(g,{cols:"12",md:"6"},{default:t(()=>[e(_,{to:{name:"TournamentsList"},rounded:"lg",class:"nav-card fill-height",hover:""},{default:t(()=>[l("div",tt,[e(f,{icon:"mdi-trophy-outline",size:"large",class:"nav-card-icon"}),n[9]||(n[9]=l("div",null,[l("div",{class:"text-h6 font-weight-bold"},"Архив турниров"),l("p",{class:"text-body-2 text-medium-emphasis mt-1"},"Результаты всех прошедших соревнований")],-1))])]),_:1})]),_:1}),e(g,{cols:"12",md:"6"},{default:t(()=>[e(_,{to:{name:"PlayerList"},rounded:"lg",class:"nav-card fill-height",hover:""},{default:t(()=>[l("div",et,[e(f,{icon:"mdi-account-group-outline",size:"large",class:"nav-card-icon"}),n[10]||(n[10]=l("div",null,[l("div",{class:"text-h6 font-weight-bold"},"Все игроки"),l("p",{class:"text-body-2 text-medium-emphasis mt-1"},"Рейтинги и статистика всех участников клуба")],-1))])]),_:1})]),_:1})]),_:1})]),e(M,{class:"mt-12 d-flex flex-column pa-0"},{default:t(()=>[e(w),n[11]||(n[11]=l("div",{class:"px-4 py-2 text-center w-100"},[l("span",{class:"text-caption text-medium-emphasis"},"Шахматы на Проспекте Мира, 43")],-1)),l("div",nt,[l("strong",lt,"© "+i(new Date().getFullYear())+" — Шахматный клуб",1)])]),_:1})])}}},it=J(ot,[["__scopeId","data-v-635eea90"]]);export{it as default};
