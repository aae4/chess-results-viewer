import{u as q,l as A,m as E,c as G,f as m,i as d,a as i,p as h,w as l,r,d as M,o,F as k,k as w,b as x,h as c,t as a,e,n as y,q as z,s as g}from"./index-B-MfjX_p.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W=["onClick"],j={class:"text-center text-grey"},H={class:"text-right"},J=["onClick"],K={class:"text-caption text-grey"},O={class:"text-center"},Q={class:"text-left"},X=["onClick"],Y={class:"text-caption text-grey"},Z={class:"text-center"},tt={class:"result-box"},et={class:"d-flex align-baseline mb-1"},st={class:"player-info"},lt={class:"player-rating text-body-2 text-grey-darken-1 ml-2"},ot={class:"d-flex align-baseline"},at={class:"player-info"},nt={class:"player-rating text-body-2 text-grey-darken-1 ml-2"},rt={__name:"RoundsView",setup(ct){const C=q(),P=M(),B=A(),f=E(1),u=G(()=>C.roundsData[f.value]||null),V=n=>{n&&P.push({name:"player",params:{start_no:n}})},R=n=>{if(!n.pgn)return;const s=`${n.round}-${n.board}`;P.push({name:"game",params:{id:s}})},p=(n,s)=>{const _=g(s.result);return n==="white"&&_==="1-0"||n==="black"&&_==="0-1"};return(n,s)=>{const _=r("v-chip"),D=r("v-chip-group"),T=r("v-card-title"),v=r("v-icon"),F=r("v-card-subtitle"),$=r("v-divider"),I=r("v-table"),L=r("v-list-item"),S=r("v-list"),U=r("v-card");return o(),m("div",null,[d(D,{modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=t=>f.value=t),mandatory:"",color:"primary",class:"mb-4"},{default:l(()=>[(o(!0),m(k,null,w(x(C).roundsList,t=>(o(),i(_,{key:t,value:t,filter:""},{default:l(()=>[c(" Тур "+a(t),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),u.value?(o(),i(U,{key:0},{default:l(()=>[d(T,{class:"text-h5"},{default:l(()=>[c(" Результаты "+a(f.value)+"-го тура ",1)]),_:1}),u.value.byePlayer?(o(),i(F,{key:0,class:"pb-2"},{default:l(()=>[d(v,{size:"small",color:"grey",class:"mr-1"},{default:l(()=>[...s[1]||(s[1]=[c("mdi-coffee-outline",-1)])]),_:1}),c(" "+a(u.value.byePlayer.name)+" пропускает тур. ",1)]),_:1})):h("",!0),d($),x(B).mdAndUp.value?(o(),i(I,{key:1,class:"rounds-table",hover:""},{default:l(()=>[s[3]||(s[3]=e("thead",null,[e("tr",null,[e("th",{class:"text-center",style:{width:"10%"}},"Доска"),e("th",{class:"text-right",style:{width:"35%"}},"Белые"),e("th",{class:"text-center",style:{width:"15%"}},"Результат"),e("th",{class:"text-left",style:{width:"35%"}},"Черные"),e("th",{class:"text-center",style:{width:"5%"}})])],-1)),e("tbody",null,[(o(!0),m(k,null,w(u.value.pairings,t=>(o(),m("tr",{key:t.board,onClick:b=>R(t),class:y([{clickable:t.pgn},"table-row"])},[e("td",j,a(t.board),1),e("td",H,[e("a",{href:"#",onClick:z(b=>V(t.whitePlayer.start_no),["prevent","stop"]),class:y(["player-link",{"font-weight-bold":p("white",t)}])},a(t.white),11,J),e("div",K,a(t.whitePlayer?.rating),1)]),e("td",O,[d(_,{label:"",variant:"tonal",class:"font-weight-bold"},{default:l(()=>[c(a(x(g)(t.result)),1)]),_:2},1024)]),e("td",Q,[e("a",{href:"#",onClick:z(b=>V(t.blackPlayer.start_no),["prevent","stop"]),class:y(["player-link",{"font-weight-bold":p("black",t)}])},a(t.black),11,X),e("div",Y,a(t.blackPlayer?.rating),1)]),e("td",Z,[t.pgn?(o(),i(v,{key:0,class:"chevron-icon"},{default:l(()=>[...s[2]||(s[2]=[c("mdi-chevron-right",-1)])]),_:1})):h("",!0)])],10,W))),128))])]),_:1})):(o(),i(S,{key:2,lines:"two",class:"mobile-list"},{default:l(()=>[(o(!0),m(k,null,w(u.value.pairings,(t,b)=>(o(),m(k,{key:t.board},[d(L,{onClick:dt=>R(t),disabled:!t.pgn},{prepend:l(()=>[e("div",tt,[d(_,{label:"",variant:"tonal",class:"font-weight-bold"},{default:l(()=>[c(a(x(g)(t.result)),1)]),_:2},1024)])]),append:l(()=>[t.pgn?(o(),i(v,{key:0},{default:l(()=>[...s[6]||(s[6]=[c("mdi-chevron-right",-1)])]),_:1})):h("",!0)]),default:l(()=>[e("div",null,[e("div",et,[d(v,{size:"x-small",class:"mr-2"},{default:l(()=>[...s[4]||(s[4]=[c("mdi-circle-outline",-1)])]),_:1}),e("div",st,[e("span",{class:y(["player-name",{"font-weight-bold":p("white",t)}])},a(t.white),3),e("span",lt,"("+a(t.whitePlayer?.rating)+")",1)])]),e("div",ot,[d(v,{size:"x-small",class:"mr-2"},{default:l(()=>[...s[5]||(s[5]=[c("mdi-circle",-1)])]),_:1}),e("div",at,[e("span",{class:y(["player-name",{"font-weight-bold":p("black",t)}])},a(t.black),3),e("span",nt,"("+a(t.blackPlayer?.rating)+")",1)])])])]),_:2},1032,["onClick","disabled"]),b<u.value.pairings.length-1?(o(),i($,{key:0})):h("",!0)],64))),128))]),_:1}))]),_:1})):h("",!0)])}}},_t=N(rt,[["__scopeId","data-v-f3e01323"]]);export{_t as default};
