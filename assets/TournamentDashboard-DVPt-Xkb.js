import{u as A,m as q,c as _,n as F,w as L,p as U,a as c,d as m,i as v,g as n,b as p,h as r,f as o,e as s,t as u,j as e,k as y,F as b,l as h,q as $}from"./index-CAgBBP7l.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={key:0,class:"text-center pa-10"},E={key:2},G={key:0,class:"mb-6"},O={class:"text-h4 font-weight-bold"},H={class:"text-subtitle-1 text-medium-emphasis"},J={__name:"TournamentDashboard",props:{tournamentId:{type:[String,Number],required:!0}},setup(k){const i=k,a=A(),f=q(),I=F(),T=_(()=>["Standings","Rounds","Participants","Crosstable","Statistics"].includes(I.name)),g=_(()=>!T.value),x=_(()=>[{text:"Итоги",value:"Standings",icon:"mdi-podium",to:{name:"Standings",params:{tournamentId:i.tournamentId}}},{text:"Туры",value:"Rounds",icon:"mdi-tournament",to:{name:"Rounds",params:{tournamentId:i.tournamentId}}},{text:"Участники",value:"Participants",icon:"mdi-account-group-outline",to:{name:"Participants",params:{tournamentId:i.tournamentId}}},{text:"Таблица",value:"Crosstable",icon:"mdi-table-large",to:{name:"Crosstable",params:{tournamentId:i.tournamentId}}},{text:"Статистика",value:"Statistics",icon:"mdi-chart-bar",to:{name:"Statistics",params:{tournamentId:i.tournamentId}}}]);return L(()=>i.tournamentId,l=>{l&&a.fetchTournamentData(l)},{immediate:!0}),U(()=>{a.clearActiveData()}),(l,d)=>{const D=o("v-progress-circular"),S=o("v-alert"),w=o("v-tab"),C=o("v-tabs"),P=o("v-slide-x-transition"),N=o("router-view"),B=o("v-icon"),R=o("v-btn"),V=o("v-bottom-navigation");return n(a).isLoadingDetails&&!n(a).activeTournament?(e(),c("div",z,[p(D,{indeterminate:"",color:"primary",size:"64"}),d[0]||(d[0]=r("p",{class:"mt-4 text-h6"},"Загрузка данных турнира...",-1))])):n(a).error?(e(),m(S,{key:1,type:"error",prominent:""},{default:s(()=>[y(" Не удалось загрузить данные турнира: "+u(n(a).error),1)]),_:1})):n(a).activeTournament?(e(),c("div",E,[g.value?v("",!0):(e(),c("div",G,[r("h1",O,u(n(a).activeTournament.name),1),r("div",H,[r("span",null,u(n(a).activeTournament.city),1),d[1]||(d[1]=r("span",{class:"mx-2"},"·",-1)),r("span",null,u(n(a).activeTournament.start_date),1)])])),n(f).mdAndUp.value&&!g.value?(e(),m(C,{key:1,"model-value":l.$route.name,color:"primary",class:"mb-6"},{default:s(()=>[(e(!0),c(b,null,h(x.value,t=>(e(),m(w,{key:t.value,to:t.to,value:t.value},{default:s(()=>[y(u(t.text),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):v("",!0),p(N,null,{default:s(({Component:t})=>[p(P,{mode:"out-in"},{default:s(()=>[(e(),m($(t)))]),_:2},1024)]),_:1}),n(f).smAndDown.value?(e(),m(V,{key:2,"model-value":l.$route.name,color:"primary",grow:"",app:""},{default:s(()=>[(e(!0),c(b,null,h(x.value,t=>(e(),m(R,{key:t.value,to:t.to,value:t.value},{default:s(()=>[p(B,null,{default:s(()=>[y(u(t.icon),1)]),_:2},1024),r("span",null,u(t.text),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):v("",!0)])):v("",!0)}}},Q=j(J,[["__scopeId","data-v-0614c6c7"]]);export{Q as default};
