import{u as U,A as $,c as v,H as z,k as F,p as L,a as p,d,h as x,l as o,b as u,e as n,r as s,w as a,t as m,f as r,g as _,I as q,J as E,F as y,i as w,K as G}from"./index-D-xIhes9.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J={key:0,class:"text-center pa-10"},K={key:2},j={class:"mb-6 d-flex align-center"},M={class:"flex-grow-1"},Q={class:"text-h4 font-weight-bold"},W={class:"text-subtitle-1 text-medium-emphasis"},X={__name:"TournamentDashboard",props:{tournamentId:{type:[String,Number],required:!0}},setup(I){const c=I,e=U(),g=$(),k=z(),h=v(()=>{const l=e.activeTournament?.tnr_id;return l?`https://chess-results.com/tnr${l}.aspx?lan=11`:"#"}),T=v(()=>["Overview","Standings","Rounds","Crosstable","Statistics"].includes(k.name)),D=v(()=>!T.value),b=v(()=>[{text:"Обзор",value:"Overview",icon:"mdi-view-dashboard-outline",to:{name:"Overview",params:{tournamentId:c.tournamentId}}},{text:"Таблица",value:"Standings",icon:"mdi-format-list-numbered",to:{name:"Standings",params:{tournamentId:c.tournamentId}}},{text:"Туры",value:"Rounds",icon:"mdi-chess-pawn",to:{name:"Rounds",params:{tournamentId:c.tournamentId}}},{text:"Сетка",value:"Crosstable",icon:"mdi-table-large",to:{name:"Crosstable",params:{tournamentId:c.tournamentId}}},{text:"Статистика",value:"Statistics",icon:"mdi-chart-bar",to:{name:"Statistics",params:{tournamentId:c.tournamentId}}}]);return F(()=>c.tournamentId,l=>{l&&e.fetchTournamentData(l)},{immediate:!0}),L(()=>{e.clearActiveData()}),(l,i)=>{const S=s("v-progress-circular"),C=s("v-alert"),f=s("v-btn"),R=s("v-tooltip"),N=s("v-tab"),P=s("v-tabs"),A=s("v-slide-x-transition"),B=s("router-view"),O=s("v-icon"),V=s("v-bottom-navigation");return o(e).isLoadingDetails&&!o(e).activeTournament?(r(),p("div",J,[u(S,{indeterminate:"",color:"primary",size:"64"}),i[0]||(i[0]=n("p",{class:"mt-4 text-h6"},"Загрузка данных турнира...",-1))])):o(e).error?(r(),d(C,{key:1,type:"error",prominent:""},{default:a(()=>[_(" Не удалось загрузить данные турнира: "+m(o(e).error),1)]),_:1})):o(e).activeTournament?(r(),p("div",K,[n("div",j,[n("div",M,[n("h1",Q,m(o(e).activeTournament.name),1),n("div",W,[n("span",null,m(o(e).activeTournament.city),1),i[1]||(i[1]=n("span",{class:"mx-2"},"·",-1)),n("span",null,m(o(e).activeTournament.start_date),1)])]),u(R,{location:"bottom"},{activator:a(({props:t})=>[n("div",q(E(t)),[u(f,{href:h.value,target:"_blank",variant:"text",color:"primary",class:"d-none d-sm-flex","prepend-icon":"mdi-open-in-new"},{default:a(()=>[...i[2]||(i[2]=[_(" Chess-Results ",-1)])]),_:1},8,["href"]),u(f,{href:h.value,target:"_blank",icon:"mdi-open-in-new",variant:"text",color:"primary",class:"d-sm-none"},null,8,["href"])],16)]),default:a(()=>[i[3]||(i[3]=n("span",null,"Посмотреть на chess-results.com",-1))]),_:1})]),o(g).mdAndUp.value&&!D.value?(r(),d(P,{key:0,"model-value":l.$route.name,color:"primary",class:"mb-6"},{default:a(()=>[(r(!0),p(y,null,w(b.value,t=>(r(),d(N,{key:t.value,to:t.to,value:t.value},{default:a(()=>[_(m(t.text),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):x("",!0),u(B,null,{default:a(({Component:t})=>[u(A,{mode:"out-in"},{default:a(()=>[(r(),d(G(t)))]),_:2},1024)]),_:1}),o(g).smAndDown.value?(r(),d(V,{key:1,"model-value":l.$route.name,color:"primary",grow:"",app:""},{default:a(()=>[(r(!0),p(y,null,w(b.value,t=>(r(),d(f,{key:t.value,to:t.to,value:t.value},{default:a(()=>[u(O,null,{default:a(()=>[_(m(t.icon),1)]),_:2},1024),n("span",null,m(t.text),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):x("",!0)])):x("",!0)}}},tt=H(X,[["__scopeId","data-v-ea3ff7ff"]]);export{tt as default};
