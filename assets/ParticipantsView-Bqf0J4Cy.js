import{_ as S,r as x,c as T,a as _,b as a,d as b,e as o,f as n,u as k,n as A,p as D,i,j as f,F,k as R,g as r,t as d}from"./index-CQPj8-Ml.js";import{u as U}from"./tournamentStore-BbypOPIx.js";import{g as j}from"./formatters-D4D2rNmP.js";const z={key:0,class:"text-center pa-10"},E={key:1,class:"text-center text-grey pa-10"},Q={class:"d-flex align-center pa-4"},$={class:"start-no-badge mr-4"},q={class:"text-white font-weight-bold"},G={class:"player-info-text"},H={class:"font-weight-bold text-subtitle-1"},J={class:"text-caption text-grey"},K={class:"mr-2"},M={__name:"ParticipantsView",setup(O){const m=U(),y=A(),w=D(),p=x(""),u=x("start_no"),V=l=>{y.push({name:"Player",params:{tournamentId:w.params.tournamentId,playerId:l}})},g=T(()=>m.participants?m.participants.filter(t=>t.name.toLowerCase().includes(p.value?.toLowerCase()||"")).sort((t,s)=>u.value==="name"?t.name.localeCompare(s.name):u.value==="rating"?(s.rating||0)-(t.rating||0):(t.starting_rank||0)-(s.starting_rank||0)):[]),h=l=>{const t=["blue-grey","brown","deep-orange","indigo","teal","deep-purple","pink"];if(!l)return t[0];const s=l.split("").reduce((c,v)=>c+v.charCodeAt(0),0)%t.length;return t[s]};return(l,t)=>{const s=n("v-text-field"),c=n("v-btn"),v=n("v-btn-toggle"),C=n("v-toolbar"),B=n("v-progress-circular"),I=n("v-avatar"),P=n("v-card"),L=n("v-col"),N=n("v-row");return i(),_("div",null,[a(C,{flat:"",color:"transparent",class:"mb-4 px-0"},{default:o(()=>[a(s,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),label:"Поиск по имени","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"",clearable:"",class:"mr-4"},null,8,["modelValue"]),a(v,{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),color:"primary",variant:"outlined",mandatory:""},{default:o(()=>[a(c,{value:"start_no"},{default:o(()=>[...t[2]||(t[2]=[f("Номер",-1)])]),_:1}),a(c,{value:"name"},{default:o(()=>[...t[3]||(t[3]=[f("Имя",-1)])]),_:1}),a(c,{value:"rating"},{default:o(()=>[...t[4]||(t[4]=[f("Рейтинг",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),k(m).isLoadingDetails?(i(),_("div",z,[a(B,{indeterminate:"",color:"primary"})])):g.value.length===0?(i(),_("div",E," Участники не найдены. ")):(i(),b(N,{key:2},{default:o(()=>[(i(!0),_(F,null,R(g.value,e=>(i(),b(L,{key:e.id,cols:"12",sm:"6",md:"4"},{default:o(()=>[a(P,{class:"player-card",onClick:W=>V(e.id)},{default:o(()=>[r("div",Q,[r("div",$,d(e.starting_rank),1),a(I,{color:h(e.name),size:"48",class:"mr-4"},{default:o(()=>[r("span",q,d(k(j)(e.name)),1)]),_:2},1032,["color"]),r("div",G,[r("div",H,d(e.name),1),r("div",J,[r("span",K,"Рейтинг: "+d(e.rating),1),r("span",null,d(e.federation),1)])])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))])}}},tt=S(M,[["__scopeId","data-v-81ca3a40"]]);export{tt as default};
