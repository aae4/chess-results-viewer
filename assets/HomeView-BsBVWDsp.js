import{u as q,o as A,c as g,a as _,b as e,d as c,e as l,w as t,r as o,f as a,g as r,t as i,h as D,F as I,i as L}from"./index-C3e-Y_By.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"content-wrapper"},O={key:1,class:"text-center text-h6 font-weight-regular mt-4"},Q={class:"text-body-2 font-weight-bold"},U={class:"text-caption text-medium-emphasis"},W={class:"game-row"},X={class:"player-name text-right"},Z={class:"player-name text-left"},$={class:"mt-8"},tt={class:"bg-grey-lighten-4 px-4 py-2 text-center w-100"},et={class:"text-caption"},nt={__name:"HomeView",setup(lt){const m=q();A(()=>m.fetchHomepageDashboardData());const u=g(()=>m.currentTournament),N=g(()=>(m.currentTournamentStandings||[]).slice(0,5)),x=g(()=>m.recentGames||[]),v=g(()=>m.nextRoundInfo),F=d=>d===1?"amber":d===2?"blue-grey-lighten-3":d===3?"brown-lighten-3":"grey-lighten-2",V=d=>{switch(d){case"1-0":return{text:"1-0",color:"success"};case"0-1":return{text:"0-1",color:"error"};case"1/2-1/2":return{text:"½-½",color:"warning"};default:return{text:d,color:"grey"}}};return(d,n)=>{const p=o("v-icon"),T=o("v-chip"),h=o("v-card-title"),C=o("v-card-subtitle"),b=o("v-card-item"),y=o("v-card"),w=o("v-sheet"),H=o("v-avatar"),P=o("v-list-item-title"),R=o("v-list-item-subtitle"),G=o("v-list-item"),S=o("v-list"),E=o("v-spacer"),k=o("v-divider"),z=o("v-card-text"),f=o("v-col"),B=o("v-row"),j=o("v-alert"),M=o("v-footer");return a(),_("div",null,[e(w,{class:"hero-section d-flex flex-column justify-center align-center text-center pa-4 mb-8",rounded:"lg","min-height":"400px"},{default:t(()=>[l("div",K,[n[3]||(n[3]=l("h1",{class:"text-h4 text-md-h3 font-weight-bold mb-4"},"Шахматный клуб на Проспекте Мира",-1)),n[4]||(n[4]=l("p",{class:"text-h6 text-md-h5 font-weight-regular text-medium-emphasis mb-8"}," Центр шахматной жизни Москвы ",-1)),u.value?(a(),c(y,{key:0,to:{name:"Standings",params:{tournamentId:u.value.id}},class:"d-inline-block text-left mx-auto sub-hero-card elevation-8"},{default:t(()=>[e(b,null,{prepend:t(()=>[e(T,{color:"red",label:"",class:"font-weight-bold mr-2"},{default:t(()=>[e(p,{start:"",icon:"mdi-broadcast"}),n[0]||(n[0]=r(" LIVE ",-1))]),_:1})]),default:t(()=>[e(h,{class:"font-weight-bold"},{default:t(()=>[r(i(u.value.name),1)]),_:1}),e(C,null,{default:t(()=>[...n[1]||(n[1]=[r("Нажмите, чтобы посмотреть таблицу",-1)])]),_:1})]),_:1})]),_:1},8,["to"])):(a(),_("div",O,[...n[2]||(n[2]=[r(" Сейчас нет активных турниров. ",-1),l("br",null,null,-1),r(" Загляните позже! ",-1)])]))])]),_:1}),u.value?(a(),c(B,{key:0},{default:t(()=>[e(f,{cols:"12",lg:"8"},{default:t(()=>[e(y,{variant:"flat",color:"grey-lighten-5",class:"fill-height"},{default:t(()=>[e(b,null,{default:t(()=>[e(h,null,{default:t(()=>[...n[5]||(n[5]=[r("Текущий турнир: Лидеры",-1)])]),_:1}),e(C,null,{default:t(()=>[r(i(u.value?.name),1)]),_:1})]),_:1}),e(S,{lines:"two","bg-color":"transparent",class:"py-0"},{default:t(()=>[(a(!0),_(I,null,L(N.value,s=>(a(),c(G,{key:s.player_id,to:{name:"GlobalPlayer",params:{playerId:s.player_id}},class:"list-item-spaced"},{prepend:t(()=>[e(H,{color:F(s.final_rank),class:"font-weight-bold mr-4",size:"32"},{default:t(()=>[r(i(s.final_rank),1)]),_:2},1032,["color"])]),default:t(()=>[e(P,{class:"font-weight-bold"},{default:t(()=>[r(i(s.name),1)]),_:2},1024),e(R,{class:"text-medium-emphasis"},{default:t(()=>[r(" Очки: "+i(s.score)+" | Рейтинг: "+i(s.rating_at_tournament),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1}),e(E),e(k),v.value?(a(),c(z,{key:0,class:"d-flex align-center"},{default:t(()=>[e(p,{icon:"mdi-calendar-clock",class:"mr-3",color:"grey-darken-1"}),l("div",null,[l("div",Q,"Следующий раунд: "+i(v.value.name),1),l("div",U,i(v.value.date)+" "+i(v.value.time),1)])]),_:1})):D("",!0)]),_:1})]),_:1}),e(f,{cols:"12",lg:"4"},{default:t(()=>[e(y,{class:"fill-height",variant:"flat",color:"grey-lighten-5"},{default:t(()=>[e(b,null,{default:t(()=>[e(h,null,{default:t(()=>[...n[6]||(n[6]=[r("Недавние партии",-1)])]),_:1})]),_:1}),x.value.length?(a(),c(S,{key:0,"bg-color":"transparent",class:"py-0"},{default:t(()=>[(a(!0),_(I,null,L(x.value,(s,Y)=>(a(),_(I,{key:s.id},[e(G,{to:{name:"Game",params:{tournamentId:u.value.id,gameId:s.id}},class:"game-list-item"},{default:t(()=>[l("div",W,[l("span",X,i(s.white_player.name),1),e(T,{size:"x-small",color:V(s.result).color,text:V(s.result).text,label:"",variant:"tonal",class:"result-chip"},null,8,["color","text"]),l("span",Z,i(s.black_player.name),1)])]),_:2},1032,["to"]),Y<x.value.length-1?(a(),c(k,{key:0})):D("",!0)],64))),128))]),_:1})):(a(),c(z,{key:1,class:"text-center py-8 text-medium-emphasis"},{default:t(()=>[...n[7]||(n[7]=[r(" Здесь появятся результаты сыгранных партий. ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1})):(a(),c(j,{key:1,type:"info",variant:"tonal",icon:"mdi-information-outline",title:"Нет активных соревнований",class:"mb-6"},{default:t(()=>[...n[8]||(n[8]=[r(" Как только начнется новый турнир, здесь появится вся актуальная информация. ",-1)])]),_:1})),l("div",$,[e(B,null,{default:t(()=>[e(f,{cols:"12",md:"6"},{default:t(()=>[e(w,{to:{name:"TournamentsList"},rounded:"lg",class:"nav-sheet fill-height"},{default:t(()=>[e(p,{icon:"mdi-trophy-outline",size:"large",class:"nav-sheet-icon"}),n[9]||(n[9]=l("div",null,[l("div",{class:"text-h6 font-weight-bold"},"Архив турниров"),l("p",{class:"text-body-2 text-medium-emphasis mt-1"},"Результаты всех прошедших соревнований")],-1))]),_:1})]),_:1}),e(f,{cols:"12",md:"6"},{default:t(()=>[e(w,{to:{name:"PlayerList"},rounded:"lg",class:"nav-sheet fill-height"},{default:t(()=>[e(p,{icon:"mdi-account-group-outline",size:"large",class:"nav-sheet-icon"}),n[10]||(n[10]=l("div",null,[l("div",{class:"text-h6 font-weight-bold"},"Все игроки"),l("p",{class:"text-body-2 text-medium-emphasis mt-1"},"Рейтинги и статистика всех участников клуба")],-1))]),_:1})]),_:1})]),_:1})]),e(M,{class:"mt-12 d-flex flex-column pa-0"},{default:t(()=>[e(k),n[11]||(n[11]=l("div",{class:"px-4 py-2 text-center w-100"},[l("span",{class:"text-caption text-medium-emphasis"},"Шахматы на Проспекте Мира, 43")],-1)),l("div",tt,[l("strong",et,"© "+i(new Date().getFullYear())+" — Шахматный клуб",1)])]),_:1})])}}},at=J(nt,[["__scopeId","data-v-9f2a25e9"]]);export{at as default};
