import{u as T}from"./tournamentStore-kFjarByM.js";import{w as k,l as S,a as c,d as _,h as C,u as o,b as a,g as r,f as m,e as n,t as d,i as p,j as u,m as D}from"./index-BGOagHph.js";const w={key:0,class:"text-center pa-10"},N={key:2},B={class:"mb-4"},V={class:"text-h4 font-weight-bold"},P={class:"text-subtitle-1 text-grey-darken-1"},j={__name:"TournamentDashboard",props:{tournamentId:{type:[String,Number],required:!0}},setup(v){const s=v,e=T();return k(()=>s.tournamentId,l=>{l&&e.fetchTournamentData(l)},{immediate:!0}),S(()=>{e.clearActiveData()}),(l,t)=>{const f=m("v-progress-circular"),b=m("v-alert"),i=m("v-tab"),x=m("v-tabs"),y=m("v-slide-x-transition"),I=m("router-view");return o(e).isLoadingDetails&&!o(e).activeTournament?(p(),c("div",w,[a(f,{indeterminate:"",color:"primary",size:"64"}),t[0]||(t[0]=r("p",{class:"mt-4 text-h6"},"Загрузка данных турнира...",-1))])):o(e).error?(p(),_(b,{key:1,type:"error",prominent:""},{default:n(()=>[u(" Не удалось загрузить данные турнира: "+d(o(e).error),1)]),_:1})):o(e).activeTournament?(p(),c("div",N,[r("div",B,[r("h1",V,d(o(e).activeTournament.name),1),r("div",P,[r("span",null,d(o(e).activeTournament.city),1),t[1]||(t[1]=r("span",{class:"mx-2"},"·",-1)),r("span",null,d(o(e).activeTournament.start_date),1)])]),a(x,{"model-value":l.$route.name,color:"primary",class:"mb-4"},{default:n(()=>[a(i,{to:{name:"Standings",params:{tournamentId:s.tournamentId}},value:"Standings"},{default:n(()=>[...t[2]||(t[2]=[u("Итоги",-1)])]),_:1},8,["to"]),a(i,{to:{name:"Rounds",params:{tournamentId:s.tournamentId}},value:"Rounds"},{default:n(()=>[...t[3]||(t[3]=[u("Туры",-1)])]),_:1},8,["to"]),a(i,{to:{name:"Participants",params:{tournamentId:s.tournamentId}},value:"Participants"},{default:n(()=>[...t[4]||(t[4]=[u("Участники",-1)])]),_:1},8,["to"]),a(i,{to:{name:"Crosstable",params:{tournamentId:s.tournamentId}},value:"Crosstable"},{default:n(()=>[...t[5]||(t[5]=[u("Кросс-таблица",-1)])]),_:1},8,["to"]),a(i,{to:{name:"Statistics",params:{tournamentId:s.tournamentId}},value:"Statistics"},{default:n(()=>[...t[6]||(t[6]=[u("Статистика",-1)])]),_:1},8,["to"])]),_:1},8,["model-value"]),a(I,null,{default:n(({Component:g})=>[a(y,{mode:"out-in"},{default:n(()=>[(p(),_(D(g)))]),_:2},1024)]),_:1})])):C("",!0)}}};export{j as default};
