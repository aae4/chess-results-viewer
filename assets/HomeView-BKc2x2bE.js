import{u as K,o as O,c as v,a as p,b as t,r as l,w as e,d,e as o,f as s,g as i,t as r,h as D,F as T,i as H}from"./index-CS-UVTn5.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={key:0},W={key:1},X={class:"content-wrapper"},Z={key:1,class:"text-center text-h6 font-weight-regular mt-4"},$={class:"text-body-2 font-weight-bold"},tt={class:"text-caption text-medium-emphasis"},et={class:"game-row"},ot={class:"player-name text-right"},nt={class:"player-name text-left"},lt={class:"mt-8"},at={class:"d-flex align-center pa-6"},st={class:"d-flex align-center pa-6"},it={class:"bg-grey-lighten-4 px-4 py-2 text-center w-100"},rt={class:"text-caption"},ct={__name:"HomeView",setup(dt){const u=K();O(()=>u.fetchHomepageDashboardData());const N=v(()=>u.isLoadingHomepage),m=v(()=>u.currentTournament),F=v(()=>(u.currentTournamentStandings||[]).slice(0,5)),x=v(()=>u.recentGames||[]),g=v(()=>u.nextRoundInfo),P=c=>c===1?"amber":c===2?"blue-grey-lighten-3":c===3?"brown-lighten-3":"grey-lighten-2",V=c=>{switch(c){case"1-0":return{text:"1-0",color:"success"};case"0-1":return{text:"0-1",color:"error"};case"1/2-1/2":return{text:"½-½",color:"warning"};default:return{text:c,color:"grey"}}},y=v(()=>{const c=u.currentTournament?.status;return c==="live"?{text:"LIVE",icon:"mdi-broadcast",color:"primary",variant:"tonal",chipColor:"red"}:c==="upcoming"?{text:"СКОРО",icon:"mdi-calendar-clock",color:"secondary",variant:"tonal",chipColor:"secondary"}:c==="recent"?{text:"НЕДАВНО ЗАВЕРШИЛСЯ",icon:"mdi-history",color:void 0,variant:"elevated",chipColor:"primary"}:{text:"Последний турнир",icon:"mdi-new-box",color:void 0,variant:"elevated",chipColor:"primary"}});return(c,n)=>{const b=l("v-skeleton-loader"),_=l("v-col"),w=l("v-row"),h=l("v-icon"),L=l("v-chip"),k=l("v-card-title"),G=l("v-card-subtitle"),C=l("v-card-item"),f=l("v-card"),R=l("v-sheet"),E=l("v-avatar"),j=l("v-list-item-title"),M=l("v-list-item-subtitle"),S=l("v-list-item"),z=l("v-list"),Y=l("v-spacer"),I=l("v-divider"),B=l("v-card-text"),q=l("v-alert"),A=l("v-footer");return N.value?(s(),p("div",U,[t(b,{type:"image",height:"400px",class:"mb-8"}),t(w,null,{default:e(()=>[t(_,{cols:"12",lg:"8"},{default:e(()=>[t(b,{type:"heading, list-item-avatar-two-line@3"})]),_:1}),t(_,{cols:"12",lg:"4"},{default:e(()=>[t(b,{type:"heading, list-item-two-line@2"})]),_:1})]),_:1})])):(s(),p("div",W,[t(R,{class:"hero-section d-flex flex-column justify-center align-center text-center pa-4 mb-8",rounded:"lg","min-height":"400px"},{default:e(()=>[o("div",X,[n[2]||(n[2]=o("h1",{class:"text-h4 text-md-h3 font-weight-bold mb-4"},"Шахматный клуб на Проспекте Мира",-1)),n[3]||(n[3]=o("p",{class:"text-h6 text-md-h5 font-weight-regular text-medium-emphasis mb-8"}," Центр шахматной жизни Москвы ",-1)),m.value?(s(),d(f,{key:0,to:{name:"Standings",params:{tournamentId:m.value.id}},class:"d-inline-block text-left mx-auto sub-hero-card elevation-8"},{default:e(()=>[t(C,null,{prepend:e(()=>[t(L,{color:y.value.chipColor,label:"",class:"font-weight-bold mr-2"},{default:e(()=>[t(h,{start:"",icon:y.value.icon},null,8,["icon"]),i(" "+r(y.value.text),1)]),_:1},8,["color"])]),default:e(()=>[t(k,{class:"font-weight-bold"},{default:e(()=>[i(r(m.value.name),1)]),_:1}),t(G,null,{default:e(()=>[...n[0]||(n[0]=[i("Нажмите, чтобы посмотреть таблицу",-1)])]),_:1})]),_:1})]),_:1},8,["to"])):(s(),p("div",Z,[...n[1]||(n[1]=[i(" Сейчас нет активных турниров. ",-1),o("br",null,null,-1),i(" Загляните позже! ",-1)])]))])]),_:1}),m.value?(s(),d(w,{key:0},{default:e(()=>[t(_,{cols:"12",lg:"8"},{default:e(()=>[t(f,{variant:"flat",color:"grey-lighten-5",class:"fill-height"},{default:e(()=>[t(C,null,{default:e(()=>[t(k,null,{default:e(()=>[...n[4]||(n[4]=[i("Текущий турнир: Лидеры",-1)])]),_:1}),t(G,null,{default:e(()=>[i(r(m.value?.name),1)]),_:1})]),_:1}),t(z,{lines:"two","bg-color":"transparent",class:"py-0"},{default:e(()=>[(s(!0),p(T,null,H(F.value,a=>(s(),d(S,{key:a.player_id,to:{name:"GlobalPlayer",params:{playerId:a.player_id}},class:"list-item-spaced"},{prepend:e(()=>[t(E,{color:P(a.final_rank),class:"font-weight-bold mr-4",size:"32"},{default:e(()=>[i(r(a.final_rank),1)]),_:2},1032,["color"])]),default:e(()=>[t(j,{class:"font-weight-bold"},{default:e(()=>[i(r(a.name),1)]),_:2},1024),t(M,{class:"text-medium-emphasis"},{default:e(()=>[i(" Очки: "+r(a.score)+" | Рейтинг: "+r(a.rating_at_tournament),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1}),t(Y),t(I),g.value?(s(),d(B,{key:0,class:"d-flex align-center"},{default:e(()=>[t(h,{icon:"mdi-calendar-clock",class:"mr-3",color:"grey-darken-1"}),o("div",null,[o("div",$,"Следующий раунд: "+r(g.value.name),1),o("div",tt,r(g.value.date)+" "+r(g.value.time),1)])]),_:1})):D("",!0)]),_:1})]),_:1}),t(_,{cols:"12",lg:"4"},{default:e(()=>[t(f,{class:"fill-height",variant:"flat",color:"grey-lighten-5"},{default:e(()=>[t(C,null,{default:e(()=>[t(k,null,{default:e(()=>[...n[5]||(n[5]=[i("Недавние партии",-1)])]),_:1})]),_:1}),x.value.length?(s(),d(z,{key:0,"bg-color":"transparent",class:"py-0"},{default:e(()=>[(s(!0),p(T,null,H(x.value,(a,J)=>(s(),p(T,{key:a.id},[t(S,{to:{name:"Game",params:{tournamentId:m.value.id,gameId:a.id}},class:"game-list-item"},{default:e(()=>[o("div",et,[o("span",ot,r(a.white_player.name),1),t(L,{size:"x-small",color:V(a.result).color,text:V(a.result).text,label:"",variant:"tonal",class:"result-chip"},null,8,["color","text"]),o("span",nt,r(a.black_player.name),1)])]),_:2},1032,["to"]),J<x.value.length-1?(s(),d(I,{key:0})):D("",!0)],64))),128))]),_:1})):(s(),d(B,{key:1,class:"text-center py-8 text-medium-emphasis"},{default:e(()=>[...n[6]||(n[6]=[i(" Здесь появятся результаты сыгранных партий. ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1})):(s(),d(q,{key:1,type:"info",variant:"tonal",icon:"mdi-information-outline",title:"Нет активных соревнований",class:"mb-6"},{default:e(()=>[...n[7]||(n[7]=[i(" Как только начнется новый турнир, здесь появится вся актуальная информация. ",-1)])]),_:1})),o("div",lt,[t(w,null,{default:e(()=>[t(_,{cols:"12",md:"6"},{default:e(()=>[t(f,{to:{name:"TournamentsList"},rounded:"lg",class:"nav-card fill-height",hover:""},{default:e(()=>[o("div",at,[t(h,{icon:"mdi-trophy-outline",size:"large",class:"nav-card-icon"}),n[8]||(n[8]=o("div",null,[o("div",{class:"text-h6 font-weight-bold"},"Архив турниров"),o("p",{class:"text-body-2 text-medium-emphasis mt-1"},"Результаты всех прошедших соревнований")],-1))])]),_:1})]),_:1}),t(_,{cols:"12",md:"6"},{default:e(()=>[t(f,{to:{name:"PlayerList"},rounded:"lg",class:"nav-card fill-height",hover:""},{default:e(()=>[o("div",st,[t(h,{icon:"mdi-account-group-outline",size:"large",class:"nav-card-icon"}),n[9]||(n[9]=o("div",null,[o("div",{class:"text-h6 font-weight-bold"},"Все игроки"),o("p",{class:"text-body-2 text-medium-emphasis mt-1"},"Рейтинги и статистика всех участников клуба")],-1))])]),_:1})]),_:1})]),_:1})]),t(A,{class:"mt-12 d-flex flex-column pa-0"},{default:e(()=>[t(I),n[10]||(n[10]=o("div",{class:"px-4 py-2 text-center w-100"},[o("span",{class:"text-caption text-medium-emphasis"},"Шахматы на Проспекте Мира, 43")],-1)),o("div",it,[o("strong",rt,"© "+r(new Date().getFullYear())+" — Шахматный клуб",1)])]),_:1})]))}}},_t=Q(ct,[["__scopeId","data-v-c14609e5"]]);export{_t as default};
