### BUGS:
- БАГ: GameView, если зайти в партию, выйти и потом зайти в партию в которой нет pgn, покажется предыдущая партия

### FEATS:
- хайлайты? определять партию тура каким-то образом и подсвечивать тоже?
- шахматная доска, я делаю ходы, а справа отображается список партий в которых есть такая позиция, и самые популярные следующие ходы из данной позиции, отсортированные от большего к меньшему. Можно фильтровать список партий. Например кто играет белыми и кто черными, чтобы подготовиться к сопернику
- анализ: на доске фигура соперника, которую я могу съесть, но я делаю другой ход - который не берет фигуру, но он лучше
жертвы научиться находить, - когда я намеренно подставляюсь под бой, или неравный размен, но у меня лучше позиция становится
- обсчет рейтинга в реальном времени - сыграл партию - посчитали:
	Турниры обсчитываются, и когда турнир заканчиваются у игроков меняется официальный рейтинг, но его будет видно, только после завершения турнира, когда федерация посчитает.

	А я могу сразу посчитать в лайв режиме, и даже до партии сказать, на сколько изменится твой рейтинг если ты проиграешь/выиграешь/сыграешь вничью)

	```
	Диапазон значений российского рейтинга Коэффициент развития (К)
	60 1000-1199
	50 1200-1399
	40 1400-1599
	35 1600-1799
	30 1800-1999
	25 2000-2199
	20 2200-2399
	10 >=2400

	Формула расчета: Для каждого игрока после турнира вычисляется изменение рейтинга (ΔR) по следующей формуле:

	ΔR = K * (Sa - Se)

	Sa (Actual Score) — это фактический результат, который ты набрал в партиях. Победа — 1 очко, ничья — 0.5, поражение — 0.
	Se (Expected Score) — это ожидаемое количество очков, которое ты "должен был" набрать, исходя из разницы в рейтинге с твоими соперниками. Оно рассчитывается для каждой партии и затем суммируется. Например, если у тебя рейтинг на 200 пунктов выше, чем у соперника, ожидаемый результат будет высоким (около 0.76 очка). Если рейтинги равны, ожидается 0.5 очка.
	K (Коэффициент развития) — это самый важный множитель, который определяет, насколько сильно будет меняться твой рейтинг. Чем он выше, тем быстрее "двигается" твой рейтинг.

	Se(A) = 1 / (1 + 10^((Rb - Ra) / 400))
	если (Rb - Ra) > 400, то (Rb - Ra) = 400

	Rb - Ra = 221,
	221/400 = 0,5525
	10^0,5525 ≈ 3.5686174928348118
	1 + 3.5686174928348118 = 4.5686174928348118
	Se = 1/4.5686174928348118 ≈ 0.21888459727003834 = 0.22

	20*(0-0.22)
	```
- Индикатор «Текущая форма» (Current Form)
Игрокам всегда интересно, на «ходу» они или нет.
*   **Что это:** Небольшая полоска из 5-10 значков, показывающая результаты последних партий во всех турнирах (например: ✅ ➖ ❌ ✅ ✅).
*   **Где:** В карточке «Hero» (рядом с рейтингом) или в начале вкладки «Обзор».
*   **Зачем:** Мгновенное понимание состояния игрока без копания в таблицах.
*   **Реализация:** У нас уже есть `playerCareer` и связанные партии. Нужно просто взять последние N записей по дате.
- Блок «Заклятые соперники» (Nemesis & Bunny)
*   **Что это:** Три мини-карточки:
    *   **«Клиент»:** Игрок, которого этот пользователь обыгрывал чаще всего.
    *   **«Криптонит»:** Игрок, которому этот пользователь проигрывал чаще всего.
    *   **«Мирный договор»:** Игрок, с которым чаще всего были ничьи.
*   **Где:** Вкладка «Соперники» (H2H) или «Обзор».
*   **Реализация:** У нас уже есть H2H статистика (`store.h2hStats`). Нужно просто отсортировать этот массив по победам, поражениям и ничьим и вывести топ-1 для каждой категории.

- Экспорт партий (Download PGN)
*   **Что это:** Кнопка «Скачать все партии (PGN)».
*   **Где:** В «шапке» профиля или во вкладке «История».
*   **Зачем:** Позволяет игроку забрать свои данные.
*   **Реализация:** В `utils` пишется функция, которая собирает все `pgn_moves`, добавляет заголовки (White, Black, Date, Event) и генерирует текстовый файл `.pgn` для скачивания.


- Сравнение игроков (Compare)
*   **Что это:** Кнопка «Сравнить с...». При нажатии открывается модальное окно или отдельная страница, где можно выбрать второго игрока.
*   **Результат:** Показывается их личный счет, сравнение рейтингов (два графика наложены друг на друга) и сравнение статистики (кто чаще выигрывает белыми/черными).

### IMPROVEMENTS:
- Ленивая (Lazy) загрузка данных внутри турнира
Сейчас, когда пользователь заходит на страницу турнира, мы через Promise.all загружаем сразу всё: итоги, участников, партии, данные для кросс-таблицы и статистики. Для больших турниров это может быть излишним.
Почему это важно? Ускоряет первоначальную загрузку страницы турнира. Пользователь, которому нужны только итоги, получит их почти мгновенно, не дожидаясь загрузки сотен партий.
Как это реализовать?
Изменить логику в tournamentStore: Вместо одной большой fetchTournamentData создать отдельные экшены (fetchStandings, fetchGames, fetchCrosstableData и т.д.).
Вызывать по необходимости: Каждая вкладка (StandingsView, RoundsView и т.д.) при монтировании будет вызывать только свой экшен, если данных в сторе еще нет. Таким образом, данные для кросс-таблицы загрузятся только тогда, когда пользователь реально нажмет на вкладку "Кросс-таблица".
Приоритет: Высокий. Это важное улучшение производительности.